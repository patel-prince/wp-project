<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css"
		/>
		<link rel="stylesheet" href="./assets/css/style.css" />
	</head>
	<body>
		<div class="page-wrapper">
			<div class="container">
				<div class="max-w-600 m-auto p-5">
					<h1 class="section-title mt-5 mb-5" style="text-align: center">User Registration</h1>
					<div class="card">
						<form class="card-body user-registration" action="resume.html" method="post">
							<div class="row">
								<div class="col-6">
									<div class="mb-3">
										<label class="form-label">Firstname</label>
										<input class="form-control" name="firstname" placeholder="Enter Firstname" />
									</div>
								</div>
								<div class="col-6">
									<div class="mb-3">
										<label class="form-label">Lastname</label>
										<input class="form-control" name="lastname" placeholder="Enter Lastname" />
									</div>
								</div>
								<div class="mb-3">
									<label class="form-label">Email ID</label>
									<input class="form-control" name="email" placeholder="Enter Email ID" />
								</div>
								<div class="mb-3">
									<label class="form-label">Phone Number</label>
									<input class="form-control" name="phone" placeholder="Enter Phone Number" />
								</div>
								<div class="mb-3">
									<label class="form-label">Password</label>
									<input
										class="form-control"
										type="password"
										name="password"
										placeholder="Enter Password"
									/>
								</div>
							</div>
							<button class="btn btn-primary p-5 pb-2 pt-2" type="submit">Submit form</button>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div id="user_success" class="modal" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-body">
						<p>User has been successfully registered.</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary modal_ok" data-dismiss="modal">OK</button>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
	<script>
		$(function () {
			var validated = false
			$(document).on('click', '.modal_ok', function () {
				validated = true
				$('.user-registration').submit()
			})
			$('.user-registration').on('submit', function (e) {
				if (!validated) {
					e.preventDefault()
				}
			})

			$('.user-registration').validate({
				rules: {
					firstname: 'required',
					lastname: 'required',
					email: {
						required: true,
						email: true,
					},
					password: 'required',
					phone: {
						required: true,
						digits: true,
						minlength: 10,
						maxlength: 10,
					},
				},
				submitHandler: function (form) {
					$('#user_success').modal()
					if (validated) {
						form.submit()
					}
				},
				invalidHandler: function (event, validator) {
					validated = false
				},
			})
		})
	</script>
</html>
